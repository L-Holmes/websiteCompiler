@use "../../../shared/global.scss"  as *;

//============================================================
// FILTERING
//============================================================

.filter-outer-grid{
  padding-top:10px;
  padding-bottom:10px;
}

// .filter-main-wrapper{
  // @extend .ux-grid;
  // grid-template-columns: auto; 
  // grid-template-rows: 0.8fr 0.2fr; //This is above-and-below by default
// }

.filter-squares-wrapper{
  display: flex;
  flex-wrap: wrap;
  width: 100%;
  gap: 0.5rem;
}

.search-button{
  width:50px;
}
// .info-img{
  // //width: 35%;
  // max-width: 100%;
  // max-height:100%;
// }

// .filter-icon{
  // width: 100%;
  // height: 100%;
  // object-fit: contain;
// }

// .filter-tile {
  // //position: relative;
  // width: 55px;
  // height:60px;
// }

.filter-tile-bg-test-tube {
  //position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.filter-tile-content {
  //position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.filter-tile-sticker{
  //position: absolute;
  width: 50%;
  height: 75%;
  background-color: white;
  border-radius: 10px;
  border-color: transparent;
  margin-left: 24%;
  margin-top: 15%;
  border: solid black 0.5px;
}

/* want all of the top-level things to have position absolute. Everything underneath does not */

.filter-tile-img-wrapper{
  @extend .ux-grid;	
  grid-template-columns: auto; 
  grid-template-rows: 0.2fr 0.8fr;

  //position: absolute;
  width:100%;
  height: 100%;
  overflow: hidden;
}

.info-img-wrapper{
  display: flex;
  justify-content: flex-end; /* Right-aligns the child */
  align-items: flex-start; /* Aligns at the top, change as needed */
  height: 100%;
  width:100%;
  overflow: hidden;
}



// ==========================================================
// ==========================================================
// ==========================================================


// .filter-sticker {
  // background-image: url("../../../shared/images/filtering/test-tube-full.avif");
  // background-size: contain;  
  // background-position: center;
  // background-repeat: no-repeat;
  // width: 70px;  
  // height: 75px;
  // cursor: pointer; /* Makes it clear it's clickable */
// }


.filter-search-button{
  height: 25px;
  background-color: lightgray;
  color: black;
  border-radius: 5px;
  width:100%;

  display:none;


  // ON MOBILE
  @media screen and (max-width: 441px){
    display:inline-block;
  }
}

.filter-central-divider{
  width:100%;
}

.filter-under-filter-wrapper{
  @extend .centre-wrapper;
  height:25px;
  width:100%;
}

.filter-under-filter{
  width: 100%;
  height: 100%;
  object-fit: contain;
}

.filter-parent-top-bar{
  @extend .centre-wrapper;
  height:auto;
}

// ================


.bar {
  width: 100%;   /* full width of container */
  height: 10px;  /* 10px tall */
  background: #333; /* optional: give it a color so you can see it */
}


// ================

/* Sort button styling */
.sort-button {
  display: flex;
  gap: 8px;
  padding: 10px 15px;
  background-color: #333;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
}

.sort-button:hover {
  background-color: #555;
}

.sort-img {
  width: 16px;
  height: 16px;
}

/* Overlay backdrop */
.sort-overlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 1000;
}

/* Sort options box */
.sort-box {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 200px;
  height: 200px;
  background-color: white;
  border-radius: 8px;
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  overflow-y: auto;
  border: 1px solid #ddd;
}

/* Sort option items */
.sort-option {
  width: 100%;
  padding: 15px;
  border: none;
  background: none;
  text-align: left;
  cursor: pointer;
  border-bottom: 1px solid #eee;
  font-size: 14px;
  color: #333;
  box-sizing: border-box;
}

.sort-option:hover {
  background-color: #f5f5f5;
}

.sort-option:last-child {
  border-bottom: none;
}

/* Active state */
.sort-option.active {
  background-color: #007bff;
  color: white;
}

.sort-option.active:hover {
  background-color: #0056b3;
}



// =================================
// ==================================
// ==================================



// .filter-main-wrapper{
  // @extend .ux-grid;
  // grid-template-columns: auto; 
  // grid-template-rows: 0.5fr 0.4fr 0.1fr; //This is above-and-below by default 
// 
  // border: solid white 1px;
  // border-radius:12px;
// 
  // width:200px;
// }


// todo: rename to 'filter title and image'
// todo: on hover, background turns slight light blue highlight...
.filter-sticker{
   @extend .ux-grid;
   grid-template-columns: auto; 
   grid-template-rows: 0.3fr 0.7fr; //This is above-and-below by default

  width:90%;
  height:90%;

  overflow-y:hidden;
}

// .filter-icon{
  // width: 75px;
  // height: 75px;
  // object-fit: contain;
// }

.filter-further-wrapper{
  @extend .ux-grid;
   grid-template-columns: auto; 
   grid-template-rows: 0.3fr 0.2fr 0.5fr; //This is above-and-below by default

  width:90%;
  height:90%;
  overflow-y:hidden;

 }

 .more-info-wrapper{
  width:90%;
  height:90%;

  overflow-y:hidden;
 }

 .centred-with-bottom-border{
   @extend .centre-wrapper;
   border-bottom: solid white 1px;

 }

 .filter-further-description-wrapper{
 }

.filter-further-description-content {
  white-space: nowrap;
  display: inline-block;
  overflow-x: scroll;
  font-size: $font-size-xs;
}






// ===================================
// =================================
// ==================================

// FILTER STICKER

.filter-tile{
    // grows in accordance to its contents (i.e. the text length)
    // when text gets too long, it flow onto the next line.
    display:inline-flex;
    max-width:40vw; //take up no more than half of the width of the page
    height:auto; // height can grow if text gets too long.

    border: solid #404040 2px;
    border-radius:12px;


    // ON MOBILE
    @media screen and (max-width: 441px){
      max-width:90vw;
	}

    // SELECTED STATE
    &.selected {
      border: 2px solid white;
      &:hover {
          border: 2px solid #48E0C8; 
        }
    }

}

.filter-tile:hover {
  border: 2px solid #D2FFF8;
}

/* But when hovering the sub-filter area, cancel that */
.filter-tile:has(.sub-filter-wrapper:hover) {
  border: 2px solid #404040; /* revert to normal */
}


.filter-icon-wrapper{
  @extend .align-centre;
  padding:5px;
  pointer-events: none;  // prevent on-hover etc. of parent triggering
}

.title-and-info-wrapper{
    // we want only the text and the info icon to flow onto the next lines together, should they get too long.
    display: flex;
    flex-wrap: wrap;          /* Only this wraps */
    align-items: center;
    gap: 0.5rem;
    max-width: 100%;          /* Respect parent's max-width */
    padding:5px;
    padding-right:15px;
}

.sub-filter-wrapper{
    @extend .align-centre;
    border-left: solid white 1px;
    padding:5px;

    .sub-filter-icon{
      height: 25px;
      width: 25px;
      object-fit: contain;
    }

    .sub-filter-hover-icon{
      height: 25px;
      width: 25px;
      object-fit: contain;
      
      display:none;
    }

    &:hover .sub-filter-icon{
      display:none;
    }
    
    &:hover .sub-filter-hover-icon{
      // background-image: url("../../../shared/images/filtering/filter-hover-icon.png");
      display:inline;
    }

    &:hover{
      border-left: solid #D2FFF8 1px;
    }
}


.filter-icon{
    height:25px;
    width:25px;
    object-fit: contain;
    pointer-events: none;  // prevent on-hover etc. of parent triggering
}

// .sub-filter-icon {
  // height: 25px;
  // width: 25px;
  // object-fit: contain;
  // background: url("../../../shared/images/filtering/filter-icon.png") no-repeat center / contain;
// 
  // &:hover {
    // background-image: url("../../../shared/images/filtering/filter-hover-icon.png");
  // }
// }



.right-arrow{
    height:20px;
    width:20px;
    object-fit: contain;
}


.big-image-wrapper{
    // pass
    display:none;
}

.item-title {
  display: inline;        /* Makes text + icon flow together */

  .info-icon{
    height:15px;
    width:15px;
    object-fit: contain;
    padding-bottom:10px;

    display:none;

    // ON MOBILE
    @media screen and (max-width: 441px){
      display:inline;
    }
  }

  .info-hover-icon{
    height:15px;
    width:15px;
    object-fit: contain;
    padding-bottom:10px;

    display:none;

    // ON MOBILE
    @media screen and (max-width: 441px){
      display:none;
    }
  }


  &:hover .info-icon{
    display:none;
  }

  &:hover .info-hover-icon{
    display:none;

    @media screen and (max-width: 441px){
      display:inline;
    }
  }
}

// =======================================
// FILTER TOP BAR


.filter-top-bar{
  display:flex;
  align-items: center;      /* vertical centering */
  gap: 20px;                /* spacing between items */
  overflow-x: auto;         /* horizontal scroll if needed */
  width: 100%;              /* full width */
  white-space: nowrap;      /* optional, but ensures text doesn't wrap */

  padding-top:30px;
  padding-bottom:10px;
}

.filter-top-bar-option{
  @extend .button-hitbox;
  width:auto;
  }

  .filter-top-bar-text{
  @extend .text-itself;
  text-decoration:underline;
  }
